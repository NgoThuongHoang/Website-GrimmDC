<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="../css/style.css">
    <title>Thanh toán</title>
  </head>
  <body>
      <div class="container">
          <div class="py-5 text-center">            
                <h2>GRIMM DC</h2>
                <p>Tiến hành thanh toán</p>
            </div>    
      </div>

      <div class="container">
        <h4 class="mb-3">Thông tin của bạn</h4>
        <form novalidate>
          <div class="row">
            <div class="col-sm-6">

                <div class="col-sm-8">
                  <label for="fullName" class="form-lable">Họ và tên</label>
                  <input id="fullName" type="text" class="form-control">
                  <div class="invalid-feedback">
                    Trường hợp này là bắt buộc.
                  </div>
                </div>

                <div class="col-sm-8">
                  <label for="email" class="form-lable">Email</label>
                  <input id="email" type="text" class="form-control">
                  <div class="invalid-feedback">
                    Trường hợp này là bắt buộc.
                  </div>
                </div>
  
                <div class="col-sm-8">
                  <label for="phone" class="form-lable">Số điện thoại</label>
                  <input id="phone" type="text" class="form-control">
                  <div class="invalid-feedback">
                    Trường hợp này là bắt buộc.
                  </div>
                </div>
                
                <div class="col-sm-8">
                  <label for="address" class="form-lable">Địa chỉ</label>
                  <input id="address" type="text" class="form-control">
                  <div class="invalid-feedback">
                    Trường hợp này là bắt buộc.
                  </div>
                </div>  
                
                <select class="select1" name="calc_shipping_provinces" required="">
                  <option value="">Tỉnh / Thành phố</option>
                </select>
                <select class="select2" name="calc_shipping_district" required="">
                  <option value="">Quận / Huyện</option>
                </select>
                <input class="billing_address_1" name="" type="hidden" value="">
                <input class="billing_address_2" name="" type="hidden" value="">

                <div class="col-sm-8">
                  <h3 class="pay">Chọn phương thức thanh toán</h3>

                  <div class="form-check">
                    <input type="radio" class="form-check-input" id="validationFormCheck2" name="radio-stacked" required>
                    <label class="form-check-label" for="validationFormCheck2">Thanh toán bằng thẻ ngân hàng</label>
                  </div>
                  <div class="form-check mb-3">
                    <input type="radio" class="form-check-input" id="validationFormCheck3" name="radio-stacked" required>
                    <label class="form-check-label" for="validationFormCheck3">Thanh toán sau khi nhận hàng</label>
                  </div>
                </div>
            </div>

            <div class="col-sm-6" id="tt">

              <img src="https://product.hstatic.net/1000357687/product/1_751712b06026486483efe37dfad439ca_small.jpg" alt="">
              <h6>239,000₫
              </h6>
              <h5>
                Áo Iron Flame // Pink
              </h5>
              <h6>
                Pink / S
              </h6>
              <div class="box">
                <h3>
                  Số lượng:
                   <input type="number" value="1">
                </h3>   
              </div>
            </div>
          </div>
        </form>
      </div>
   
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/vietblogdao/js/districts.min.js"></script>
    <script>//<![CDATA[
    if (address_2 = localStorage.getItem('address_2_saved')) {
      $('select[name="calc_shipping_district"] option').each(function() {
        if ($(this).text() == address_2) {
          $(this).attr('selected', '')
        }
      })
      $('input.billing_address_2').attr('value', address_2)
    }
    if (district = localStorage.getItem('district')) {
      $('select[name="calc_shipping_district"]').html(district)
      $('select[name="calc_shipping_district"]').on('change', function() {
        var target = $(this).children('option:selected')
        target.attr('selected', '')
        $('select[name="calc_shipping_district"] option').not(target).removeAttr('selected')
        address_2 = target.text()
        $('input.billing_address_2').attr('value', address_2)
        district = $('select[name="calc_shipping_district"]').html()
        localStorage.setItem('district', district)
        localStorage.setItem('address_2_saved', address_2)
      })
    }
    $('select[name="calc_shipping_provinces"]').each(function() {
      var $this = $(this),
        stc = ''
      c.forEach(function(i, e) {
        e += +1
        stc += '<option value=' + e + '>' + i + '</option>'
        $this.html('<option value="">Tỉnh / Thành phố</option>' + stc)
        if (address_1 = localStorage.getItem('address_1_saved')) {
          $('select[name="calc_shipping_provinces"] option').each(function() {
            if ($(this).text() == address_1) {
              $(this).attr('selected', '')
            }
          })
          $('input.billing_address_1').attr('value', address_1)
        }
        $this.on('change', function(i) {
          i = $this.children('option:selected').index() - 1
          var str = '',
            r = $this.val()
          if (r != '') {
            arr[i].forEach(function(el) {
              str += '<option value="' + el + '">' + el + '</option>'
              $('select[name="calc_shipping_district"]').html('<option value="">Quận / Huyện</option>' + str)
            })
            var address_1 = $this.children('option:selected').text()
            var district = $('select[name="calc_shipping_district"]').html()
            localStorage.setItem('address_1_saved', address_1)
            localStorage.setItem('district', district)
            $('select[name="calc_shipping_district"]').on('change', function() {
              var target = $(this).children('option:selected')
              target.attr('selected', '')
              $('select[name="calc_shipping_district"] option').not(target).removeAttr('selected')
              var address_2 = target.text()
              $('input.billing_address_2').attr('value', address_2)
              district = $('select[name="calc_shipping_district"]').html()
              localStorage.setItem('district', district)
              localStorage.setItem('address_2_saved', address_2)
            })
          } else {
            $('select[name="calc_shipping_district"]').html('<option value="">Quận / Huyện</option>')
            district = $('select[name="calc_shipping_district"]').html()
            localStorage.setItem('district', district)
            localStorage.removeItem('address_1_saved', address_1)
          }
        })
      })
    })
    //]]></script>
    
  </body>
</html>
